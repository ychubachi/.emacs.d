;; -*- mode: Org; fill-column: 80; -*-
#+STARTUP: overview indent num align inlineimages logdone hidestars hideblocks

README.org

* ã¯ã˜ã‚ã«
** ã“ã®è¨­å®šã«ã¤ã„ã¦
- init.elã®å®Ÿè¡Œæ™‚ã€ã“ã®README.orgã‹ã‚‰README.elã‚’ç”Ÿæˆã—ã¾ã™ã€‚
- orgã®ãƒãƒƒã‚±ãƒ¼ã‚¸ã¯æ‰‹å‹•ã§æœ€æ–°ç‰ˆã«æ›´æ–°ã—ã¦ãŠãã¾ã™ã€‚

** äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã‚‚ã®
- å„ç¨®ãƒ•ã‚©ãƒ³ãƒˆ
  - Noto Sans Mono CJK JP-12
- migemo
  - cmigemo
- pygment
  - python3ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  - /home/yc/.local/binã«ãƒ‘ã‚¹
  - pip install -U pip
  - pip install pygments
- graphviz(dot)
  - sudo apt install graphviz
- org-roam
  - sqlite3

** Copyright
- Copyright ãªã©ã€‚

#+begin_src emacs-lisp
  ;;; README.el --- My README.el  -*- lexical-binding: t; -*-

  ;; Copyright (C) 2020 Yoshihide Chubachi

  ;; Author: Yoshihide Chubachi <yoshi@chubachi.net>

  ;; This program is free software: you can redistribute it and/or modify
  ;; it under the terms of the GNU General Public License as published by
  ;; the Free Software Foundation, either version 3 of the License, or
  ;; (at your option) any later version.

  ;; This program is distributed in the hope that it will be useful,
  ;; but WITHOUT ANY WARRANTY; without even the implied warranty of
  ;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ;; GNU General Public License for more details.

  ;; You should have received a copy of the GNU General Public License
  ;; along with this program.  If not, see <http://www.gnu.org/licenses/>.

  ;;; Commentary:

  ;;  My README.el.

  ;;; Code:
#+end_src

* ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¤‰æ•°
** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ï¼ˆstraightï¼‰

#+begin_src emacs-lisp
  (defvar bootstrap-version)
  (let ((bootstrap-file
         (expand-file-name "straight/repos/straight.el/bootstrap.el" user-emacs-directory))
        (bootstrap-version 5))
    (unless (file-exists-p bootstrap-file)
      (with-current-buffer
          (url-retrieve-synchronously
           "https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"
           'silent 'inhibit-cookies)
        (goto-char (point-max))
        (eval-print-last-sexp)))
    (load bootstrap-file nil 'nomessage))

  (setq package-enable-at-startup nil)
#+end_src

** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ï¼ˆLeafï¼‰
*** leaf
- [[https://qiita.com/conao3/items/dc88bdadb0523ef95878#%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB][[æ­£å¼ãƒªãƒªãƒ¼ã‚¹]leaf.elã§é›‘ç„¶ã¨ã—ãŸEmacsè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€Œinit.elã€ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã«ã™ã‚‹ - Qiita]]

#+begin_src emacs-lisp
  (prog1 "prepare leaf"
    (prog1 "package"
      (custom-set-variables
       '(package-archives '(("org"   . "https://orgmode.org/elpa/")
                            ("melpa" . "https://melpa.org/packages/")
                            ("gnu"   . "https://elpa.gnu.org/packages/"))))
      (package-initialize))

    (prog1 "leaf"
      (unless (package-installed-p 'leaf)
        (unless (assoc 'leaf package-archive-contents)
          (package-refresh-contents))
        (condition-case err
            (package-install 'leaf)
          (error
           (package-refresh-contents)       ; renew local melpa cache if fail
           (package-install 'leaf))))

      (leaf leaf-keywords
        :ensure t
        :config (leaf-keywords-init)))

    (prog1 "optional packages for leaf-keywords"
      ;; optional packages if you want to use :hydra, :el-get,,,
      (leaf hydra :ensure t)
      (leaf el-get :ensure t
        :custom ((el-get-git-shallow-clone  . t)))))
#+end_src

#+RESULTS:
: leaf-keywords

*** Leaf tree/leaf-convert
- [[https://qiita.com/conao3/items/347d7e472afd0c58fbd7#%E4%BE%BF%E5%88%A9%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB][Emacså…¥é–€ã‹ã‚‰å§‹ã‚ã‚‹leaf.elå…¥é–€ - Qiita]]

#+begin_src emacs-lisp
  (leaf leaf
    :config
    (leaf leaf-convert :ensure t)
    (leaf leaf-tree
      :ensure t
      :custom ((imenu-list-size . 30)
               (imenu-list-position . 'left))))
#+end_src

#+RESULTS:
: leaf

** ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®šï¼ˆcus-editï¼‰

#+begin_src emacs-lisp
  (leaf cus-edit
    :doc "tools for customizing Emacs and Lisp packages"
    :tag "builtin" "faces" "help"
    :custom `((custom-file . ,(locate-user-emacs-file "custom.el"))))
#+end_src

#+RESULTS:
: cus-edit

** customizeå¤‰æ•°ã®è¨­å®šï¼ˆcus-startï¼‰
- è¨­å®šãŒã¾ãœã“ãœã«ãªã£ã¦ã„ã‚‹æ°—ãŒã€‚

#+begin_src emacs-lisp
  (leaf cus-start
    :doc "define customization properties of builtins"
    :tag "builtin" "internal"
    :preface
    (defun c/redraw-frame nil
      (interactive)
      (redraw-frame))
    :bind (("M-ESC ESC" . c/redraw-frame))
    :custom '((user-full-name . "Yoshihide Chubachi")
              (user-mail-address . "yoshi@chubachi.net")
              (user-login-name . "yc")
              (create-lockfiles . nil)
              (debug-on-error . t)
              (init-file-debug . t)
              (frame-resize-pixelwise . t)
              (enable-recursive-minibuffers . t)
              (history-length . 1000)
              (history-delete-duplicates . t)
              (scroll-preserve-screen-position . t)
              (scroll-conservatively . 100)
              (mouse-wheel-scroll-amount . '(1 ((control) . 5)))
              (ring-bell-function . 'ignore)
              (text-quoting-style . 'straight)
              (truncate-lines . nil)
              (use-dialog-box . nil)
              (use-file-dialog . nil)
              (menu-bar-mode . t)
              (tool-bar-mode . nil)
              (scroll-bar-mode . nil)
              (indent-tabs-mode . nil)
              (inhibit-startup-screen . t)
              (vc-follow-symlinks . t) ; VCå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã®å ´åˆã€æœ¬ä½“ã‚’è¾¿ã‚‹
              (auto-revert-check-vc-info . t) ; VCã§æ›´æ–°ãŒã‚ã£ãŸå ´åˆã€è‡ªå‹•ã§æ›´æ–°
              ))
#+end_src

#+RESULTS:
: cus-start

** ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®è¨­å®š
- æ–‡çŒ®
  - [[https://ayatakesi.github.io/emacs/24.5/Backup-Names.html][GNU Emacs Manual(Japanese Translation): Backup Names]]
  - [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Backup-Deletion.html][If delete-old-versions is t, Emacs deletes the excess backup files silently.]]

#+begin_src emacs-lisp
  (leaf *backup
    :custom ((version-control . t)
             (backup-directory-alist . '(("." . ".~")))
             (delete-old-versions . t)))
#+end_src

#+RESULTS:
: *backup

* Emacsæœ¬ä½“ã®è¨­å®š
** (require 'cl)ã‚’æ¤œæŸ»ã—ãªã„

#+begin_src emacs-lisp
  (leaf *emacs
    :config
    (setq byte-compile-warnings '(not cl-functions obsolete)))
#+end_src

#+RESULTS:
: *emacs

** C-hã‚’BSã«
- [[https://www.reddit.com/r/spacemacs/comments/l2fjzy/remapping_ch_to_backspace_and_remap_help_menu_to/][Remapping C-h to backspace, and remap "help" menu to anything else? : spacemacs]]

- :init ã§ã¯ãªã :config ã ã¨æ©Ÿèƒ½ã—ãªã„
  - :config ã®ä¸­èº«ã¯ eval-after-load ã§å®Ÿè¡Œã•ã‚Œã‚‹
  - :bindãŒã‚ã‚‹ã¨ã“ã†ãªã‚‹ã‚ˆã†ã 
- help-map ã¯ :bind ã§è¨­å®šã§ããªã„
  - ã“ã“ã§ã¯ :bind ã‚’åˆ©ç”¨ã—ãªã„
  - :bind ã‚’åˆ©ç”¨ã—ãªã‘ã‚Œã° :init ã¨ :config

#+begin_src emacs-lisp
  (leaf *backspace
    :config
    (global-set-key (kbd "C-@") help-map)
    (global-set-key (kbd "C-h") 'delete-backward-char))
#+end_src

#+RESULTS:
: *backspace

** Undoã‚’C-zã«
- æŒ‡ãŒè¦šãˆã¦ã—ã¾ã£ã¦ã„ã‚‹

#+begin_src emacs-lisp
  (leaf *undo :bind (("C-z" . undo)))
#+end_src

#+RESULTS:
: *undo

** yes/noã®é¸æŠã‚’y/nã«ç°¡ç•¥åŒ–

#+begin_src emacs-lisp
  (defalias 'yes-or-no-p 'y-or-n-p)
#+end_src

#+RESULTS:
: yes-or-no-p

** ä¿å­˜æ™‚ã€ä¸è¦ãªç©ºç™½ã‚’å‰Šé™¤

#+begin_src emacs-lisp
  (add-hook 'before-save-hook 'delete-trailing-whitespace)
#+end_src

#+RESULTS:
| delete-trailing-whitespace |

* ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¨­å®š
** paren
- å¯¾å¿œã™ã‚‹ã‚«ãƒƒã‚³ã®è¡¨ç¤º

#+begin_src emacs-lisp
  (leaf paren
    :doc "highlight matching paren"
    :tag "builtin"
    :custom ((show-paren-delay . 0.1))
    :global-minor-mode show-paren-mode)
#+end_src

** isearch

- isearch ã§æ¼¢å­—å…¥åŠ›ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

#+begin_src emacs-lisp
  (leaf isearch
    :bind ((isearch-mode-map
            ("C-o" . isearch-toggle-input-method))))
#+end_src

** wdired

- [[https://ohzeki.hatenablog.com/entry/20160115/1452838970][Emacsã®diredè¡¨ç¤ºã§ãƒ•ã‚¡ã‚¤ãƒ«åç·¨é›† - ohzekiâ€™s diary]]

#+begin_src emacs-lisp
  (leaf wdired
    :doc "Rename files editing their names in dired buffers"
    :tag "builtin"
    :added "2020-11-21"
    :require t
    :config
    (define-key dired-mode-map "r" 'wdired-change-to-wdired-mode)
    :bind ((wdired-mode-map
            ("C-o" . toggle-input-method))))
#+end_src

#+RESULTS:
: wdired

** autorevert
- ãƒ‡ã‚£ã‚¹ã‚¯ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸã‚‰ãƒãƒƒãƒ•ã‚¡ã‚‚è‡ªå‹•ã§æ›´æ–°ã™ã‚‹

#+begin_src emacs-lisp
  (leaf autorevert
    :doc "revert buffers when files on disk change"
    :tag "builtin"
    :added "2021-11-08"
    :global-minor-mode global-auto-revert-mode)
#+end_src

** macrostep

- elispã®ãƒã‚¯ãƒ­ã‚’å±•é–‹ã™ã‚‹

#+begin_src emacs-lisp
  (leaf macrostep
    :doc "interactive macro expander"
    :req "cl-lib-0.5"
    :tag "debugging" "macro" "languages" "lisp"
    :url "https://github.com/joddie/macrostep"
    :package t
    :bind (("C-c e" . macrostep-expand)))
#+end_src

#+RESULTS:
: macrostep

** recentf

#+begin_src emacs-lisp
  (leaf recentf
    :custom
    (recentf-max-saved-items . 2000)
    (recentf-auto-cleanup quote never)
    (recentf-exclude quote
                     ("/recentf" "COMMIT_EDITMSG" "/.?TAGS" "^/sudo:"))
    :config
    (setq recentf-auto-save-timer
          (run-with-idle-timer 30 t (lambda () (let ((save-silently t)) (recentf-save-list)))))
    (recentf-mode 1))
#+end_src

#+RESULTS:
: recentf

** midnight - ä¸€å®šæœŸé–“ä½¿ç”¨ã—ãªã‹ã£ãŸ buffer ã‚’è‡ªå‹•å‰Šé™¤

- [[https://uwabami.github.io/cc-env/Emacs.html][midnight: ä¸€å®šæœŸé–“ä½¿ç”¨ã—ãªã‹ã£ãŸ buffer ã‚’è‡ªå‹•å‰Šé™¤]]

#+begin_src emacs-lisp
  (leaf midnight
    :custom
    ((clean-buffer-list-delay-general . 1))
    :hook
    (emacs-startup-hook . midnight-mode))
#+end_src

#+RESULTS:
: midnight

** which-key - ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã®ã‚¬ã‚¤ãƒ‰

#+begin_src emacs-lisp
  (leaf which-key
    :doc "Display available keybindings in popup"
    :req "emacs-24.4"
    :tag "emacs>=24.4"
    :url "https://github.com/justbur/emacs-which-key"
    :added "2021-10-20"
    :emacs>= 24.4
    :ensure t
    :config
    (which-key-mode))
#+end_src

#+RESULTS:
: which-key

** imenu-list

#+begin_src emacs-lisp
  (leaf *imenu-list
    :bind (("C-^" . imenu-list-smart-toggle)))
#+end_src

#+RESULTS:
: *imenu-list

** align - ã‚³ãƒ¡ãƒ³ãƒˆã®ä½ç½®ã‚’æƒãˆãŸã‚Šã™ã‚‹

#+begin_src emacs-lisp
  (leaf align
    :doc "align text to a specific column, by regexp"
    :tag "builtin"
    :added "2021-10-30"
    :bind (("C-c M-a" . align-regexp))
    )
#+end_src

#+RESULTS:
: align

* ãƒŸãƒ‹ãƒãƒƒãƒ•ã‚¡è£œå®ŒUIé–¢é€£ã®è¨­å®š
** vertico:æœ¬ä½“ã®è¨­å®š

- [[https://github.com/minad/vertico/][GitHub - minad/vertico: vertico.el - VERTical Interactive COmpletion]]

#+begin_src emacs-lisp
  (leaf vertico
    :straight t
    :custom
    ;; æœ€å¤§20ä»¶ã¾ã§è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«
    (vertico-count . 20)
    :config
    (vertico-mode)
    (setq vertico-resize t)
    (setq vertico-cycle t)
    )
#+end_src

#+RESULTS:
: vertico

** orderless
- [[https://github.com/oantolin/orderless][GitHub - oantolin/orderless: Emacs completion style that matches multiple regexps in any order]]

#+begin_src emacs-lisp
  (leaf orderless
    :straight t
    :init
    ;; Configure a custom style dispatcher (see the Consult wiki)
    ;; (setq orderless-style-dispatchers '(+orderless-dispatch))
    (setq completion-styles '(orderless)
          completion-category-defaults nil
          completion-category-overrides '((file (styles partial-completion)))))
#+end_src

#+RESULTS:
: orderless

** savehist

#+begin_src emacs-lisp
  ;; Persist history over Emacs restarts. Vertico sorts by history position.
  (leaf savehist
    :straight t
    :init
    (savehist-mode))
#+end_src

#+RESULTS:
: savehist

** Marginalia
- [[https://github.com/minad/marginalia][GitHub - minad/marginalia: marginalia.el - Marginalia in the minibuffer]]
- Enable richer annotations using the Marginalia package

#+begin_src emacs-lisp
  (leaf marginalia
    :straight t
    :bind (:minibuffer-local-map
           ("M-A" . marginalia-cycle))
    :init
    (marginalia-mode))
#+end_src

#+RESULTS:
: marginalia

** embark
- [[https://github.com/oantolin/embark][GitHub - oantolin/embark: Emacs Mini-Buffer Actions Rooted in Keymaps]]

#+begin_src emacs-lisp
  (leaf embark
    :straight t
    :bind
    (("C-." . embark-act)         ;; pick some comfortable binding
     ("C-;" . embark-dwim)        ;; good alternative: M-.
     ("C-@ B" . embark-bindings) ;; alternative for `describe-bindings' (C-h->C-@)
     )
    :init
    ;; Optionally replace the key help with a completing-read interface
    (setq prefix-help-command #'embark-prefix-help-command)
    :config

    ;; Hide the mode line of the Embark live/completions buffers
    (add-to-list 'display-buffer-alist
                 '("\\`\\*Embark Collect \\(Live\\|Completions\\)\\*"
                   nil
                   (window-parameters (mode-line-format . none)))))
#+end_src

#+RESULTS:
: embark

** consult
- [[https://github.com/minad/consult][GitHub - minad/consult: consult.el - Consulting completing-read]]

#+begin_src emacs-lisp
  ;; Example configuration for Consult
  (leaf consult
    :straight t
    ;; Replace bindings. Lazily loaded due by `use-package'.
    :bind (;; C-c bindings (mode-specific-map)
           ("C-c h" . consult-history)
           ("C-c m" . consult-mode-command)
           ("C-c b" . consult-bookmark)
           ("C-c k" . consult-kmacro)
           ;; ("C-c r" . consult-recent-file)           ;; added by yc
           ;; C-x bindings (ctl-x-map)
           ("C-x M-:" . consult-complex-command)     ;; orig. repeat-complex-command
           ("C-x b" . consult-buffer)                ;; orig. switch-to-buffer
           ("C-x 4 b" . consult-buffer-other-window) ;; orig. switch-to-buffer-other-window
           ("C-x 5 b" . consult-buffer-other-frame)  ;; orig. switch-to-buffer-other-frame
           ;; Custom M-# bindings for fast register access
           ("M-#" . consult-register-load)
           ("M-'" . consult-register-store)          ;; orig. abbrev-prefix-mark (unrelated)
           ("C-M-#" . consult-register)
           ;; Other custom bindings
           ("M-y" . consult-yank-pop)                ;; orig. yank-pop
           ("<help> a" . consult-apropos)            ;; orig. apropos-command
           ;; M-g bindings (goto-map)
           ("M-g e" . consult-compile-error)
           ("M-g f" . consult-flymake)               ;; Alternative: consult-flycheck
           ("M-g g" . consult-goto-line)             ;; orig. goto-line
           ("M-g M-g" . consult-goto-line)           ;; orig. goto-line
           ("M-g o" . consult-outline)               ;; Alternative: consult-org-heading
           ("M-g m" . consult-mark)
           ("M-g k" . consult-global-mark)
           ("M-g i" . consult-imenu)
           ("M-g I" . consult-imenu-multi)
           ;; M-s bindings (search-map)
           ("M-s f" . consult-find)
           ("M-s F" . consult-locate)
           ("M-s g" . consult-grep)
           ("M-s G" . consult-git-grep)
           ("M-s r" . consult-ripgrep)
           ("M-s l" . consult-line)
           ("M-s L" . consult-line-multi)
           ("M-s m" . consult-multi-occur)
           ("M-s k" . consult-keep-lines)
           ("M-s u" . consult-focus-lines)
           ;; Isearch integration
           ("M-s e" . consult-isearch)
           (:isearch-mode-map
            ("M-e" . consult-isearch)                 ;; orig. isearch-edit-string
            ("M-s e" . consult-isearch)               ;; orig. isearch-edit-string
            ("M-s l" . consult-line)                  ;; needed by consult-line to detect isearch
            ("M-s L" . consult-line-multi)))           ;; needed by consult-line to detect isearch

    ;; Enable automatic preview at point in the *Completions* buffer.
    ;; This is relevant when you use the default completion UI,
    ;; and not necessary for Vertico, Selectrum, etc.
    :hook (completion-list-mode . consult-preview-at-point-mode)

    ;; The :init configuration is always executed (Not lazy)
    :init

    ;; Optionally configure the register formatting. This improves the register
    ;; preview for `consult-register', `consult-register-load',
    ;; `consult-register-store' and the Emacs built-ins.
    (setq register-preview-delay 0
          register-preview-function #'consult-register-format)

    ;; Optionally tweak the register preview window.
    ;; This adds thin lines, sorting and hides the mode line of the window.
    (advice-add #'register-preview :override #'consult-register-window)

    ;; Optionally replace `completing-read-multiple' with an enhanced version.
    (advice-add #'completing-read-multiple :override #'consult-completing-read-multiple)

    ;; Use Consult to select xref locations with preview
    (setq xref-show-xrefs-function #'consult-xref
          xref-show-definitions-function #'consult-xref)

    ;; Configure other variables and modes in the :config section,
    ;; after lazily loading the package.
    :config

    ;; Optionally configure preview. The default value
    ;; is 'any, such that any key triggers the preview.
    ;; (setq consult-preview-key 'any)
    ;; (setq consult-preview-key (kbd "M-."))
    ;; (setq consult-preview-key (list (kbd "<S-down>") (kbd "<S-up>")))
    ;; For some commands and buffer sources it is useful to configure the
    ;; :preview-key on a per-command basis using the `consult-customize' macro.
    (consult-customize
     consult-theme
     :preview-key '(:debounce 0.2 any)
     consult-ripgrep consult-git-grep consult-grep
     consult-bookmark consult-recent-file consult-xref
     consult--source-file consult--source-project-file consult--source-bookmark
     :preview-key (kbd "M-."))

    ;; Optionally configure the narrowing key.
    ;; Both < and C-+ work reasonably well.
    (setq consult-narrow-key "<") ;; (kbd "C-+")

    ;; Optionally make narrowing help available in the minibuffer.
    ;; You may want to use `embark-prefix-help-command' or which-key instead.
    ;; (define-key consult-narrow-map (vconcat consult-narrow-key "?") #'consult-narrow-help)

    ;; Optionally configure a function which returns the project root directory.
    ;; There are multiple reasonable alternatives to chose from.
    ;;;; 1. project.el (project-roots)
    (setq consult-project-root-function
          (lambda ()
            (when-let (project (project-current))
              (car (project-roots project)))))
    ;;;; 2. projectile.el (projectile-project-root)
    ;; (autoload 'projectile-project-root "projectile")
    ;; (setq consult-project-root-function #'projectile-project-root)
    ;;;; 3. vc.el (vc-root-dir)
    ;; (setq consult-project-root-function #'vc-root-dir)
    ;;;; 4. locate-dominating-file
    ;; (setq consult-project-root-function (lambda () (locate-dominating-file "." ".git")))
    )
#+end_src

#+RESULTS:
: consult

** embark-consult

#+begin_src emacs-lisp
  ;; Consult users will also want the embark-consult package.
  (leaf embark-consult
    :straight t
    :after (embark consult)
    ;;    :demand t ; only necessary if you have the hook below
    ;; if you want to have consult previews as you move around an
    ;; auto-updating embark collect buffer
    ;;    :hook
    ;;    (embark-collect-mode . consult-preview-at-point-mode)
    )
#+end_src

#+RESULTS:
: embark-consult

* org-modeé–¢é€£ã®è¨­å®š
** orgã®ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè¨­å®š
- org-agenda-filesã®ãƒªã‚¹ãƒˆã«Dropboxã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¿½åŠ ã—ã¦ãŠãã€‚
  - ã“ã®ä¸­ã«ã‚ã‚‹orgãƒ•ã‚¡ã‚¤ãƒ«ãŒã™ã¹ã¦agendaã«åæ˜ ã•ã‚Œã‚‹ã€‚
- org-num-modeã‚’ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§å®Ÿè¡Œã™ã‚‹
  - (org-startup-numerated . t)ãŒã†ã¾ãåæ˜ ã•ã‚Œãªã„ã€‚
- Androdç«¯æœ«ã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã«ã¯ [[https://play.google.com/store/apps/details?id=com.orgzly][Orgzly]] ãŒè‰¯ã•ãã†ã€‚

- è¨­å®šã™ã‚‹ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ãƒ•ã‚¡ã‚¤ãƒ«

  | ãƒ•ã‚¡ã‚¤ãƒ«          | å†…å®¹                           |
  |-------------------+--------------------------------|
  | Journal.org       | æ€ã„ã¤ãã€ãƒ¡ãƒ¢ã‚’æ›¸ããªãã‚Šç”¨   |
  | Notebook.org      | ã‚ã‚‹ç¨‹åº¦ãã¡ã‚“ã¨ã—ãŸãƒ¡ãƒ¢æ›¸ã   |
  | ãƒ–ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«    | ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’ã¾ã¨ã‚ãŸãƒ•ã‚¡ã‚¤ãƒ« |
  | emacsè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« | orgãƒ•ã‚¡ã‚¤ãƒ«ã§æ›¸ã„ãŸEmacsã®è¨­å®š |

  - TODOã¯ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã„ã¦è‰¯ã„

  - org-switchbã‹consult-org-agendaã‚’ã©ã“ã‹ã«ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ã¨ã„ã„ã‹ã‚‚ï¼Ÿï¼ˆC-,ï¼‰

#+begin_src emacs-lisp
  (leaf org-mode
    :bind
    ("C-c l" . org-store-link)
    ("C-c a" . org-agenda)
    ("C-c c" . org-capture)
    ("C-,"   . org-switchb)
    :custom
    (org-directory . "~/Dropbox/Org/")
    (org-agenda-files . '("~/Dropbox/Org/"
                          "~/git/ploversky-zenn.dev/plaversky@zenn.dev.org"
                          "~/git/ploversky-ploversky.net/plaversky.net.org"
                          "~/.emacs.d/README.org"
                          ))
    (org-default-notes-file . "~/Dropbox/Org/Notebook.org")
    (org-refile-targets . '((org-agenda-files :tag . "REFILE"))))
#+end_src

#+RESULTS:
: org-mode

** org-modeã§RETURNã§ãƒªãƒ³ã‚¯ã‚’é–‹ã

- C-mã§ã‚‚å¯

#+begin_src emacs-lisp
  (leaf org-mode
    :config
    (setq org-return-follows-link  t))
#+end_src

#+RESULTS:
: org-mode

** doctã‚’åˆ©ç”¨ã—ãŸorg-captureã®è¨­å®š

- [[https://orgmode.org/manual/Capture.html][Capture (The Org Manual)]]
- [[https://orgmode.org/manual/Setting-up-capture.html#Setting-up-capture][Setting up capture (The Org Manual)]]
- [[https://www.5ing-myway.com/org-capture/][org-captureã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã€ã™ã°ã‚„ããƒ¡ãƒ¢ã‚’å–ã‚‹æ–¹æ³• | è¶£å‘³ã«ç”Ÿãã‚‹ã€‚]]

- ãƒ•ã‚¡ã‚¤ãƒ«ã¯ org-directory ä»¥ä¸‹ã«ã‚ã‚‹ã€‚

- [[https://github.com/progfolio/doct#installation][GitHub - progfolio/doct: DOCT: Declarative Org Capture Templates for Emacs]]
- ãƒŸãƒ‹ãƒãƒƒãƒ•ã‚¡ã§æ—¥æœ¬èªãŒå…¥åŠ›ã§ããªã„
- [[https://blog.tomoya.dev/posts/a-new-wave-has-arrived-at-emacs/][Emacsã®æ¬¡ä¸–ä»£ãƒŸãƒ‹ãƒãƒƒãƒ•ã‚¡è£œå®ŒUI | æ—¥ã€…ã€ã¨ã‚“ã¯èªã‚‹ã€‚]]

#+begin_src emacs-lisp
  (leaf doct
    :ensure t
    ;;recommended: defer until calling doct
                                          ;:commands (doct)
    :config
    (setq org-capture-templates
          (doct '(("Memo" :keys "m"
                   :prepend t
                   :empty-lines-after 1
                   :children
                   (("Journal" :keys "j"
                     :file "~/Dropbox/Org/Journal.org"
                     :datetree t
                     :todo-state "TODO"
                     :template ("* %{todo-state} %?"
                                ":PROPERTIES:"
                                ":CREATED: %T"
                                ":ANNOTADED: %a"
                                ":END:"))
                    ("Notebook" :keys "n"
                     :file "~/Dropbox/Org/Notebook.org"
                     :unnarrowed t
                     :template ("* %^{Description}"
                                ":PROPERTIES:"
                                ":CREATED: %T"
                                ":END:"
                                "\n%?"))))
                  ("Blog" :keys "b"
                   :prepend t
                   :empty-lines-after 1
                   :unnarrowed t
                   :children
                   (("ploversky@zenn.dev" :keys "z"
                     :file "~/git/ploversky-zenn.dev/plaversky@zenn.dev.org"
                     :headline   "è¨˜äº‹"
                     :todo-state "TODO"
                     :export_file_name (lambda () (concat (format-time-string "%Y%m%d-%H%M%S")))
                     :template ("* %{todo-state} %^{Description}"
                                ":PROPERTIES:"
                                ":CREATED: %T"
                                ":EXPORT_FILE_NAME: articles/%{export_file_name}"
                                ":EXPORT_GFM_TAGS: blog"
                                ":EXPORT_GFM_CUSTOM_FRONT_MATTER: :emoji ğŸ‘©â€ğŸ’»"
                                ":EXPORT_GFM_CUSTOM_FRONT_MATTER+: :type tech"
                                ":EXPORT_GFM_CUSTOM_FRONT_MATTER+: :published false"
                                ":END:"
                                "\n** %?"))
                    ("ploversky.net" :keys "w"
                     :file "~/git/ploversky-ploversky.net/plaversky.net.org"
                     :headline   "Blog"
                     :todo-state "TODO"
                     :template ("* %{todo-state} %^{Description}"
                                ":PROPERTIES:"
                                ":CREATED: %T"
                                ":CATEGORY: Blog"
                                ":POST_TAGS: Blog"
                                ":BLOG:     plover"
                                ":END:"
                                "\n** %?"))
                    ("blog.chubachi.net"  :keys "b"
                     :file "~/Dropbox/Org/blog/blog.chubachi.net/blog.chubachi.net.org"
                     :headline   "Blog"
                     :todo-state "TODO"
                     :export_file_name (lambda () (concat (format-time-string "%Y%m%d-%H%M%S")))
                     :template ("* %{todo-state} %^{Description}"
                                ":PROPERTIES:"
                                ":CREATED: %T"
                                ":EXPORT_FILE_NAME: %{export_file_name}"
                                ":EXPORT_DATE: %U"
                                ":END:"
                                "\n** %?"))
                    )
                   )
                  )
                )
          )
    )
#+end_src

#+RESULTS:
: doct

#+begin_src emacs-lisp
  (define-key global-map
    (kbd "C-c m")
    (lambda () (interactive) (org-capture nil "m")))
#+end_src

#+RESULTS:
| lambda | nil | (interactive) | (org-capture nil m) |

** org-tempo - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å…¥åŠ›ã®çœåŠ›åŒ–
   - "<el"+<TAB> ç­‰ã§emacs-lispã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒã§ã‚‹ã‚ˆã†ã«è¨­å®šã€‚

#+begin_src emacs-lisp
  (leaf org-tempo
    :require t
    :config
    (add-to-list 'org-structure-template-alist
                 '("el" . "src emacs-lisp"))
    (add-to-list 'org-structure-template-alist
                 '("bash" . "src bash"))
    )
#+end_src

#+RESULTS:
: org-tempo

** latexé–¢é€£
*** orgã§latexã®è¨­å®šä¾‹
    - è¡¨é¡Œãƒ»ç­†è€…ãƒ»æ—¥ä»˜ã®æ›¸ãæ–¹

    #+begin_comment
    #+TITLE: ã¨ã¦ã‚‚ç´ æ™´ã‚‰ã—ã„ç ”ç©¶ã®ç™ºè¡¨
    #+AUTHOR: ä¸­é‰¢ æ¬£ç§€, CHUBACHI Yoshihide
    #+DATE: 2021-08-06
    #+end_comment

    - ç›®æ¬¡ã‚’å‡ºåŠ›ã—ãªã„

    #+begin_comment
    #+OPTIONS: toc:nil # hoge
    #+end_comment

    - å‚è€ƒ
      - [[https://www-he.scphys.kyoto-u.ac.jp/member/shotakaha/dokuwiki/doku.php?id=toolbox:emacs:org:latex:start][Org-LaTeX [QumaWiki]]]
      - [[https://taipapamotohus.com/post/org-mode_paper_3/][Emacsã®org-modeã§è«–æ–‡ã‚’æ›¸ãï¼ˆãã®3ï¼šorg-modeã¨bibtexã¨reftexã®é€£æºã«ã‚ˆã‚‹æ–‡çŒ®å¼•ç”¨ã®è‡ªå‹•åŒ–ï¼‰ | A perfect autumn day]]

    #+begin_comment
#+LaTeX_CLASS: koma-jarticle
#+LaTeX_CLASS_OPTIONS: [12pt]
#+LATEX_HEADER: \usepackage{geometry}
#+LATEX_HEADER: \geometry{left=1in,right=1in,top=1in,bottom=1in}
#+LaTeX_HEADER: \usepackage[sort,compress,super,comma]{natbib}
#+STARTUP:  overview
#+STARTUP:  hidestars
#+OPTIONS:   H:4 num:nil toc:nil \n:nil @:t ::t |:t ^:t -:t f:t *:t TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil tags:not-in-toc
#+OPTIONS: date:nil
      #+end_comment

*** latexæœ¬ä½“
- [[https://texwiki.texjp.org/?Emacs%2FOrg%20mode#h20d131a][Emacs/Org mode - TeX Wiki]]
  - org-latex-pdf-process ã¯è¨˜è¼‰ã®é€šã‚Šã ã¨%Sç­‰ã‚’orgå´ã§ç½®æ›ã—ã‚ˆã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼
- latexmkã®è¨­å®šã¯~/.latexmkrcã«è¨˜è¿°
  - [[https://texwiki.texjp.org/?Latexmk#g2a2cf08][Latexmk - TeX Wiki]]
  - latexmkã®ç›¸æ€§ã®ã›ã„ã‹ã€org-export-in-backgroundã‚’tã«ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼
- LaTeXã®æ–‡å­—åˆ—éƒ¨åˆ†ã¯åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ã™ã‚‹ã®ãŒã‚ˆã„ã‹ã‚‚ã—ã‚Œãªã„
  - [[http://ergoemacs.org/emacs/elisp_read_file_content.html][Elisp: Read File Content as String or List of Lines]]

#+begin_src emacs-lisp
  (leaf ox-latex
    :require t
    :setq ((org-latex-default-class . "bxjsarticle")
           (org-latex-pdf-process . '("latexmk -gg -pdfdvi -pvc- %f"))
           (org-file-apps . '(("pdf" . "evince %s")))
           (org-export-in-background . nil))
    :config
    (add-to-list
     'org-latex-classes
     '("bxjsarticle"
       "% begin org-latex-class bxjsarticle
    \\documentclass[autodetect-engine,dvi=dvipdfmx,11pt,a4paper,ja=standard]{bxjsarticle}
    [NO-DEFAULT-PACKAGES]
    \\usepackage{amsmath}
    \\usepackage{newtxtext,newtxmath}
    \\usepackage{graphicx}
    \\usepackage{hyperref}
    \\ifdefined\\kanjiskip
      \\usepackage{pxjahyper}
      \\hypersetup{colorlinks=true}
    \\else
      \\ifdefined\\XeTeXversion
          \\hypersetup{colorlinks=true}
      \\else
        \\ifdefined\\directlua
          \\hypersetup{pdfencoding=auto,colorlinks=true}
        \\else
          \\hypersetup{unicode,colorlinks=true}
        \\fi
      \\fi
    \\fi
    % end org-latex-class bxjsarticle"
       ("\\section{%s}" . "\\section*{%s}")
       ("\\subsection{%s}" . "\\subsection*{%s}")
       ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
       ("\\paragraph{%s}" . "\\paragraph*{%s}")
       ("\\subparagraph{%s}" . "\\subparagraph*{%s}")))
    (add-to-list
     'org-latex-classes
     '("jlreq"
       "% begin org-latex-class jlreq
  \\documentclass[11pt,paper=a4]{jlreq}
  [NO-DEFAULT-PACKAGES]
  \\usepackage{amsmath}
  \\usepackage{newtxtext,newtxmath}
  \\ifdefined\\kanjiskip
    \\usepackage[dvipdfmx]{graphicx}
    \\usepackage[dvipdfmx]{hyperref}
    \\usepackage{pxjahyper}
    \\hypersetup{colorlinks=true}
  \\else
    \\usepackage{graphicx}
    \\usepackage{hyperref}
    \\hypersetup{pdfencoding=auto,colorlinks=true}
  \\fi
  % end org-latex-class jlreq"
       ("\\section{%s}" . "\\section*{%s}")
       ("\\subsection{%s}" . "\\subsection*{%s}")
       ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
       ("\\paragraph{%s}" . "\\paragraph*{%s}")
       ("\\subparagraph{%s}" . "\\subparagraph*{%s}")))
    (add-to-list
     'org-latex-classes
     '("jlreq-tate"
       "% begin org-latex-class jlreq-tate
  \\documentclass[tate,11pt,paper=a4]{jlreq}
  [NO-DEFAULT-PACKAGES]
  \\usepackage{amsmath}
  \\usepackage{newtxtext,newtxmath}
  \\ifdefined\\kanjiskip
    \\usepackage[dvipdfmx]{graphicx}
    \\usepackage[dvipdfmx]{hyperref}
    \\usepackage{pxjahyper}
    \\hypersetup{colorlinks=true}
  \\else
    \\usepackage{graphicx}
    \\usepackage{hyperref}
    \\hypersetup{pdfencoding=auto,colorlinks=true}
  \\fi
  % end org-latex-class jlreq-tate"
       ("\\section{%s}" . "\\section*{%s}")
       ("\\subsection{%s}" . "\\subsection*{%s}")
       ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
       ("\\paragraph{%s}" . "\\paragraph*{%s}")
       ("\\subparagraph{%s}" . "\\subparagraph*{%s}"))))
#+end_src

#+RESULTS:
: ox-latex

*** ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã® pretty print
- Windowsã®å ´åˆ
  - scoopã§pygmentã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã
  - python ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ pip install pygments
  - PATHã®ç™»éŒ²
    - C:\Users\yc\scoop\apps\python\current\Scripts

  #+begin_src emacs-lisp
    (setq org-export-latex-listings t)

    (setq org-latex-listings 'minted)
    (setq org-latex-minted-options
          '(("frame" "lines")
            ("framesep=2mm")
            ("linenos=true")
            ("baselinestretch=1.2")
            ("fontsize=\\footnotesize")
            ("breaklines")
            ))

    (add-to-list 'org-latex-packages-alist "\\usepackage{minted}" t)
  #+end_src

  #+RESULTS:
  | \usepackage{minted} |

*** Beamer

- beamerã®ä½œæˆã¯ C-c C-e l P

#+begin_src emacs-lisp
  (require 'ox-beamer)
  (setq org-beamer-outline-frame-title "ç›®æ¬¡")
  (setq org-beamer-frame-default-options "t") ; ãƒ•ãƒ¬ãƒ¼ãƒ ã®ä½ç½®ã‚’topã«ã™ã‚‹ã€‚
#+end_src

*** TODO å‚è€ƒæ–‡çŒ® RefTex-Mode
    - [[https://taipapamotohus.com/post/org-mode_paper_3/][Emacsã®org-modeã§è«–æ–‡ã‚’æ›¸ãï¼ˆãã®3ï¼šorg-modeã¨bibtexã¨reftexã®é€£æºã«ã‚ˆã‚‹æ–‡çŒ®å¼•ç”¨ã®è‡ªå‹•åŒ–ï¼‰ | A perfect autumn day]]
    - [[https://github.com/jkitchin/org-ref][jkitchin/org-ref: org-mode modules for citations, cross-references, bibliographies in org-mode and useful bibtex tools to go with it.]]
    - [[https://aliquote.org/post/org-and-bibtex/][Org and Bibtex - aliquote]]

    - org-refã¯Helmã«ä¾å­˜ã—ã¦ã„ã‚‹ã‚ˆã†ã 

      ;; (leaf org-ref
      ;;   :ensure t
      ;;   :require t
      ;;   :setq ((reftex-default-bibliography quote
      ;;                                       ("~/git/bibliography/references.bib"))

      ;;          (org-ref-bibliography-notes . "~/git/bibliography/notes.org")
      ;;          (org-ref-default-bibliography quote
      ;;                                        ("~/git/bibliography/references.bib"))
      ;;          (org-ref-pdf-directory . "~/git/bibliography/bibtex-pdfs/")

      ;;          (bibtex-completion-bibliography . "~/git/bibliography/references.bib")
      ;;          (bibtex-completion-library-path . "~/git/bibliography/bibtex-pdfs")
      ;;          (bibtex-completion-notes-path . "~/git/bibliography/helm-bibtex-notes")
      ;;          )
      ;;   :config
      ;;   (push '(migemo) helm-source-bibtex)

      ;;   ;; (define-key org-mode-map (kbd "C-c b c") `org-ref-helm-insert-cite-link)
      ;;   ;; (define-key org-mode-map (kbd "C-c b l") `org-ref-helm-insert-label-link)
      ;;   ;; (define-key org-mode-map (kbd "C-c b r") `org-ref-helm-insert-ref-link)
      ;;   )

#+begin_src emacs-lisp
  (leaf org-ref
    :package t
    :config
    (setq bibtex-completion-bibliography '("~/git/bibliography/references.bib")
          bibtex-completion-library-path '("~/git/bibliography/bibtex-pdfs/")
          bibtex-completion-notes-path "~/git/bibliography/notes/"
          bibtex-completion-notes-template-multiple-files "* ${author-or-editor}, ${title}, ${journal}, (${year}) :${=type=}: \n\nSee [[cite:&${=key=}]]\n"

          bibtex-completion-additional-search-fields '(keywords)
          bibtex-completion-display-formats
          '((article       . "${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*} ${journal:40}")
            (inbook        . "${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*} Chapter ${chapter:32}")
            (incollection  . "${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*} ${booktitle:40}")
            (inproceedings . "${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*} ${booktitle:40}")
            (t             . "${=has-pdf=:1}${=has-note=:1} ${year:4} ${author:36} ${title:*}"))
          bibtex-completion-pdf-open-function
          (lambda (fpath)
            (call-process "open" nil 0 nil fpath))))
#+end_src

#+RESULTS:
: org-ref

#+begin_src emacs-lisp
  (leaf bibtex
    :require t
    :config
    (setq bibtex-autokey-year-length 4
            bibtex-autokey-name-year-separator "-"
            bibtex-autokey-year-title-separator "-"
            bibtex-autokey-titleword-separator "-"
            bibtex-autokey-titlewords 2
            bibtex-autokey-titlewords-stretch 1
            bibtex-autokey-titleword-length 5
            org-ref-bibtex-hydra-key-binding (kbd "H-b"))

    (define-key bibtex-mode-map (kbd "H-b") 'org-ref-bibtex-hydra/body))
#+end_src

#+RESULTS:
: bibtex


- org-ref-insert-cite-function = nil
- org-ref-insert-label-function = nil
- org-ref-insert-ref-function = nil

** babel - Grophviz (dot)

- dotã‚³ãƒ¼ãƒ‰ã®è©•ä¾¡ã‚’è¡Œã†ã‚ˆã†ã«ã™ã‚‹
#+begin_src emacs-lisp
  (org-babel-do-load-languages
   'org-babel-load-languages
   '((dot . t))) ; this line activates dot
#+end_src

- babelã§è©•ä¾¡ã™ã‚‹ã¨ãã«ç¢ºèªã‚’å‡ºã•ãªã„
  - [[https://emacs.stackexchange.com/questions/23946/how-can-i-stop-the-confirmation-to-evaluate-source-code-when-exporting-to-html][org mode - How can I stop the confirmation to evaluate source code when exporting to html? - Emacs Stack Exchange]]

#+begin_src emacs-lisp
  (setq org-confirm-babel-evaluate nil)
#+end_src

- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ã®è‡ªå‹•å†æç”»
  - [[https://emacs.stackexchange.com/questions/3302/live-refresh-of-inline-images-with-org-display-inline-images][org mode - live refresh of inline images with org-display-inline-images - Emacs Stack Exchange]]
#+begin_src emacs-lisp
(eval-after-load 'org
  (add-hook 'org-babel-after-execute-hook 'org-redisplay-inline-images))
#+end_src

#+RESULTS:

** ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚³ãƒãƒ³ãƒ‰

#+begin_src emacs-lisp
(setq org-use-speed-commands t)
#+end_src

#+RESULTS:
: t

** org2blog
+ èª¬æ˜
  * orgã§Wordpressã«æŠ•ç¨¿ã™ã‚‹
  * Bufferå…¨ä½“ã§è¨˜äº‹ã‚’æ›¸ãå ´åˆ
    | ã‚­ãƒ¼næ“ä½œ | é–¢æ•°                         | èª¬æ˜                 |
    |-----------+------------------------------+----------------------|
    | C-c M-p g | org2blog-user-interface      | ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º         |
    | C-c M-p D | org2blog-buffer-page-save    | ãƒšãƒ¼ã‚¸ã‚’WPã«ä¿å­˜     |
    | C-c M-p P | org2blog-buffer-page-publish | ãƒšãƒ¼ã‚¸ã‚’å…¬é–‹         |
    | C-c M-p d | org2blog-buffer-post-save    | ãƒã‚¹ãƒˆã‚’WPã«ä¿å­˜     |
    | C-c M-p p | org2blog-buffer-post-publish | ãƒã‚¹ãƒˆã‚’å…¬é–‹         |
    | C-c M-p t | org2blog-complete            | ã‚«ãƒ†ã‚´ãƒªã‚„ã‚¿ã‚°ã®è£œå®Œ |

+ å‚è€ƒ
  * [[https://github.com/org2blog/org2blog#requirements-and-compatibility][org2blog/org2blog: Blog from Org mode to WordPress.]]
+ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯~/.netrcã«æ›¸ã

+ å‚™è€ƒ
  * ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¨ã‚­ã‚¹ãƒãƒ¼ãƒˆã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿï¼ˆ2021-11-05ï¼‰
  * ã©ã†ã‚„ã‚‰ã‚³ãƒ¼ãƒ‰ã«`(backquote)ãŒ2ã¤ã‚ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚ˆã†ã ãƒ»ãƒ»ãƒ»
  * Wordpressã®xmlrpcã®å•é¡Œã‹ï¼Ÿã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼Ÿï¼Ÿ

#+begin_src emacs-lisp
    (leaf org2blog
      :ensure t
      :config
      (require 'auth-source)
      (let* ((credentials (auth-source-user-and-password "ploversky.net"))
             (username (nth 0 credentials))
             (password (nth 1 credentials))
             (config `("plover"
                       :url "https://ploversky.net/xmlrpc.php"
                       :username ,username
                       :password ,password)))
        (setq org2blog/wp-blog-alist `(,config))) ;; FIXED
  )
#+end_src

#+RESULTS:
: org2blog

** ox-hugo
- [[https://github.com/kaushalmodi/ox-hugo][GitHub - kaushalmodi/ox-hugo: A carefully crafted Org exporter back-end for Hugo]]

#+begin_src emacs-lisp
  (leaf ox-hugo
    :ensure t
    :require t
    :after ox)
#+end_src

#+RESULTS:
: ox-hugo

** org-superstar
  * org-bullets ã®é€²åŒ–ç‰ˆ
    + [[https://github.com/integral-dw/org-superstar-mode/blob/master/DEMO.org][org-superstar-mode/DEMO.org at master Â· integral-dw/org-superstar-mode Â· GitHub]]
  * asterisk
    + plus
      - minus

#+begin_src emacs-lisp
  (leaf org-superstar
    :ensure t
    :config
    (add-hook 'org-mode-hook (lambda nil (org-superstar-mode 1))))
#+end_src

#+RESULTS:
: org-superstar

** org-rome

- org-romeã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®è¨­å®š

#+begin_src emacs-lisp
  (leaf org-roam
    :ensure t
    :require t
    :custom
    (org-roam-directory . "~/Dropbox/Org/Roam/")
    (org-roam-completion-everywhere . t)
    (org-roam-capture-templates
     . '(("d" "default" plain
          "%?"
          :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+TITLE: ${title}\n")
          :unnarrowed t)
         ("m" "å‚™å¿˜éŒ²ï¼ˆMemoï¼‰" plain
          (file "~/Dropbox/Org/Roam/Templates/MemoTemplate.org")
          :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+TITLE: ${title}\n")
          :unnarrowed t)
         ("k" "ä¼šè­°éŒ²ï¼ˆMeetingï¼‰" plain
          (file "~/Dropbox/Org/Roam/Templates/MeetingTemplate.org")
          :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+TITLE: ${title}\n")
          :unnarrowed t)
         ("t" "æ–‡æ›¸ï¼ˆLaTeXï¼‰" plain
          (file "~/Dropbox/Org/Roam/Templates/LaTeXTemplate.org")
          :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n")
          :unnarrowed t)
         ("w" "ãƒ–ãƒ­ã‚°ï¼ˆWordpressï¼‰" plain
          (file "~/Dropbox/Org/Roam/Templates/Org2blogBufferTemplate.org")
          :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+TITLE: ${title}\n")
          :unnarrowed t)
         ))
    :bind (("C-c n l" . org-roam-buffer-toggle)
           ("C-c n f" . org-roam-node-find)
           ("C-c n g" . org-roam-graph)
           ("C-c n i" . org-roam-node-insert)
           ("C-c n c" . org-roam-capture)
           ;; Dailies
           ("C-c n j" . org-roam-dailies-capture-today))
    :init
    (setq org-roam-v2-ack t)
    :config
    (org-roam-db-autosync-mode)
    ;; If using org-roam-protocol
    (require 'org-roam-protocol))
#+end_src

#+RESULTS:
: org-roam

** ox-zenn - zenn.devã«ãƒ–ãƒ­ã‚°ã‚’æ›¸ã
*** å‚è€ƒ
+ [[https://zenn.dev/conao3/articles/ox-zenn-usage][org-modeãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰Zenn Flavored Markdownã‚’ç”Ÿæˆã™ã‚‹ox-zennã®ä½¿ã„æ–¹]]

#+begin_src emacs-lisp
  (leaf ox-zenn
    :ensure t
    :after org
    :require t ox-publish
  :defun zenn/f-parent org-publish
  :defvar org-publish-project-alist
  :preface
  (defvar zenn/org-dir "~/git/zenn-content")

  (defun zenn/org-publish (arg)
    "Publish zenn blog files."
    (interactive "P")
    (let ((force (or (equal '(4) arg) (equal '(64) arg)))
          (async (or (equal '(16) arg) (equal '(64) arg))))
      (org-publish "zenn" arg force async)))

  :config
  (setf
   (alist-get "zenn" org-publish-project-alist nil nil #'string=)
   (list
    :base-directory (expand-file-name "" zenn/org-dir)
    :base-extension "org"
    :publishing-directory (expand-file-name "../" zenn/org-dir)
    :recursive t
    :publishing-function 'org-zenn-publish-to-markdown)))
#+end_src

#+RESULTS:
: ox-zenn

* å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
** undo-tree
   - [[https://elpa.gnu.org/packages/undo-tree.html][GNU ELPA - undo-tree]]

   #+begin_src emacs-lisp
     (leaf undo-tree
       :ensure t
       :config
       (global-undo-tree-mode))
   #+end_src

** fly-check

- emacs-lispã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨ã®ãƒã‚§ãƒƒã‚¯(emacs-lisp-checkdoc)ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã€‚

#+begin_src emacs-lisp
  (leaf flycheck
    :doc "On-the-fly syntax checking"
    :emacs>= 24.3
    :ensure t
    :bind (("M-n" . flycheck-next-error)
           ("M-p" . flycheck-previous-error))
    :custom ((flycheck-emacs-lisp-initialize-packages . t)
             (flycheck-disabled-checkers . '(emacs-lisp-checkdoc)))
    :hook (emacs-lisp-mode-hook lisp-interaction-mode-hook)
    :config
    (leaf flycheck-package
      :doc "A Flycheck checker for elisp package authors"
      :ensure t
      :config
      (flycheck-package-setup))

    (leaf flycheck-elsa
      :doc "Flycheck for Elsa."
      :emacs>= 25
      :ensure t
      :config
      (flycheck-elsa-setup))
    )
#+end_src

** pandoc-mode

- C-c / ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º
- http://joostkremers.github.io/pandoc-mode/

#+begin_src emacs-lisp
  (leaf pandoc-mode
    :doc "Minor mode for interacting with Pandoc"
    :req "hydra-0.10.0" "dash-2.10.0"
    :tag "pandoc" "text"
    :added "2020-11-24"
    :url "http://joostkremers.github.io/pandoc-mode/"
    :ensure t
    :after hydra)
#+end_src

** magit
- Emacsã®Git
#+begin_src emacs-lisp
  (leaf magit
    :doc "A Git porcelain inside Emacs."
    :req "emacs-25.1" "async-20200113" "dash-20200524" "git-commit-20200516" "transient-20200601" "with-editor-20200522"
    :tag "vc" "tools" "git" "emacs>=25.1"
    :added "2020-11-30"
    :emacs>= 25.1
    :ensure t
    :after git-commit with-editor
    :bind (("C-x g" . magit-status))
    )
#+end_src

#+RESULTS:
: magit

** migemo
*** Linux
- .emacs.d/migemo-dictã‚’ç”¨æ„
  - cmigemoã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦
  - /usr/share/cmigemo/utfg-8/migemo-dictã‚’ã‚³ãƒ”ãƒ¼
- [[https://github.com/emacs-jp/migemo][emacs-jp/migemo: emacs migemo client]]
#+begin_src emacs-lisp
  (leaf migemo
    :when (eq system-type 'gnu/linux)
    :ensure t
    :require t
    :config
    ;; cmigemo(default)
    (setq migemo-command "cmigemo")
    (setq migemo-options '("-q" "--emacs"))

    ;; ruby migemo
    ;; (setq migemo-command "ruby")
    ;; (setq migemo-options '("-S" "migemo" "-t" "emacs" "-i" "\a"))

    ;; Set your installed path
    (setq migemo-dictionary "/usr/share/cmigemo/utf-8/migemo-dict")

    (setq migemo-user-dictionary nil)
    (setq migemo-regex-dictionary nil)
    (setq migemo-coding-system 'utf-8-unix)
    (migemo-init)
    )
#+end_src

#+RESULTS:
: migemo

*** Windows
- [[https://hangstuck.com/emacs-cmigemo-windows/][Windowsã§ã® Emacsã§migemo ã‚’æœ‰åŠ¹ã«ã™ã‚‹è¨­å®šæ–¹æ³• | ãƒãƒ³ã‚°ã‚¹ã‚¿ãƒƒã‚¯]]
- migemoã®è¾æ›¸ã¯çµ¶å¯¾ãƒ‘ã‚¹ã§å‚ç…§ã™ã‚‹
- ãã®ä»–ã®å¤‰æ•°ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å‹•ä½œã™ã‚‹
- ã¨ã‚Šã‚ãˆãšWindowsã§å‹•ãã‚ˆã†ã«ã—ãŸ

#+begin_src emacs-lisp
  (leaf migemo
    :when (and
           (eq system-type 'windows-nt)
           (file-exists-p "C:/Users/yc/lib/cmigemo-default-win64/dict/utf-8/migemo-dict"))
    :ensure t
    :setq
    (migemo-dictionary . "C:/Users/yc/lib/cmigemo-default-win64/dict/utf-8/migemo-dict")
    :config
    (load-library "migemo")
    (migemo-init))
#+end_src

  #+RESULTS:
  : migemo

** yasnippet
- [[https://github.com/joaotavora/yasnippet][joaotavora/yasnippet: A template system for Emacs]]
- ã‚µãƒ³ãƒ—ãƒ«ã¯æ¬¡ã®å ´æ‰€ã«ã‚ã‚‹ã®ã§å¿…è¦ãªã‚‚ã®ã¯ ~/.emacs.d/snippets ã«ã‚³ãƒ”ãƒ¼
  - ~/.emacs.d/elpa/yasnippet-snippets-20210910.1959/snippets/

- :setq ã‚’ä½¿ã†å ´åˆã®æ³¨æ„
  - :init ã ã¨ :init -> :setq ã®é †ç•ªã§NG
  - :config ãªã‚‰ :setq -> :init
- :require ã¨ã®é–¢ä¿‚
  -  :init -> :require -> :setq -> :config

- :require ãªã—
  - :init -> NG

    #+begin_src
  (prog1 'yasnippet-snippets
    (leaf-handler-leaf-path yasnippet-snippets)
    (leaf-handler-leaf-protect yasnippet-snippets
      (leaf-handler-package yasnippet-snippets yasnippet-snippets nil)
      (yas-global-mode 1) ; <- 2
      (setq yasnippet-snippets-dir "~/.emacs.d/snippets"))) ; <- 1
    #+end_src

  - :config -> NG

    #+begin_src
  (prog1 'yasnippet-snippets
    (leaf-handler-leaf-path yasnippet-snippets)
    (leaf-handler-leaf-protect yasnippet-snippets
      (leaf-handler-package yasnippet-snippets yasnippet-snippets nil)
      (setq yasnippet-snippets-dir "~/.emacs.d/snippets") ; <- 1
      (yas-global-mode 1))) ; <- 2
    #+end_src

- :require ã‚ã‚Š

  - :init -> NG

    #+begin_src
(prog1 'yasnippet-snippets
  (leaf-handler-leaf-path yasnippet-snippets)
  (leaf-handler-leaf-protect yasnippet-snippets
    (leaf-handler-package yasnippet-snippets yasnippet-snippets nil)
    (yas-global-mode 1)
    (require 'yasnippet-snippets)
    (setq yasnippet-snippets-dir "~/.emacs.d/snippets")))
    #+end_src

  - :config -> OK

    #+begin_src
(prog1 'yasnippet-snippets
  (leaf-handler-leaf-path yasnippet-snippets)
  (leaf-handler-leaf-protect yasnippet-snippets
    (leaf-handler-package yasnippet-snippets yasnippet-snippets nil)
    (require 'yasnippet-snippets)
    (setq yasnippet-snippets-dir "~/.emacs.d/snippets")
    (yas-global-mode 1)))
    #+end_src

#+begin_src emacs-lisp
  (leaf yasnippet-snippets
    :package t
    :require t
    :setq
    (yasnippet-snippets-dir . "~/.emacs.d/snippets")
    :config
    (yas-global-mode 1))
#+end_src

#+RESULTS:
: yasnippet-snippets

** multiple-cursors
+ [[https://dev.classmethod.jp/articles/emacs-multiple-cursors/][è¤‡æ•°ã‚«ãƒ¼ã‚½ãƒ«ã‚’æ“ä½œã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ multiple-cursors.el ã®ã”ç´¹ä»‹ | DevelopersIO]]

+ ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠã—ã¦ã‚«ãƒ¼ã‚½ãƒ«ã‚’ã‚ã‚ã›ã‚‹
+ region-bindings-modeã¨ã¨ã‚‚ã«ä½¿ã†ã¨ã‚ˆã„

#+begin_src emacs-lisp
    (leaf multiple-cursors
      :package t
      :config
      ;; use region-bindings-mode instead
      ;; (global-set-key (kbd "C-S-c C-S-c") 'mc/edit-lines)
      ;; (global-set-key (kbd "C->")         'mc/mark-next-like-this)
      ;; (global-set-key (kbd "C-<")         'mc/mark-previous-like-this)
      ;; (global-set-key (kbd "C-c C-<")     'mc/mark-all-like-this))
      )
#+end_src

#+RESULTS:
: multiple-cursors

** region-bindings-mode
+ [[https://tam5917.hatenablog.com/entry/20130129/1359465171][region-bindings-modeã®ç´¹ä»‹ - å‚™å¿˜éŒ²]]
+ [[https://github.com/magnars/expand-region.el][magnars/expand-region.el: Emacs extension to increase selected region by semantic units.]]
+ [[https://github.com/fgallina/region-bindings-mode][GitHub - fgallina/region-bindings-mode: A minor mode that enables custom bindings when mark is active.]]

#+begin_src emacs-lisp
  (leaf region-bindings-mode
    :package t
    :require t
    :config
    (region-bindings-mode-enable)
    (define-key region-bindings-mode-map "e" 'mc/edit-lines)
    (define-key region-bindings-mode-map "a" 'mc/mark-all-like-this)
    (define-key region-bindings-mode-map "p" 'mc/mark-previous-like-this)
    (define-key region-bindings-mode-map "n" 'mc/mark-next-like-this)
    (define-key region-bindings-mode-map "m" 'mc/mark-more-like-this-extended)
    )
#+end_src

#+RESULTS:
: region-bindings-mode

** shell-pop
*** èª¬æ˜
Emacsã§ä½œæ¥­ä¸­ã«ã€shellã§ä½œæ¥­ã‚’ã™ã‚‹ã“ã¨ã¯ã‚ˆãã‚ã‚Šã¾ã™ã€‚ãã®ã‚ˆã†ãªéš›ã«ä¾¿åˆ©ãªè¨­å®šã§ã™ã€‚

*** è¨­å®š
å…¬å¼ã«å¾“ã„ã€C-tã§ãƒãƒƒãƒ—ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

#+begin_src emacs-lisp
   (leaf shell-pop
     :package t
     :require t
     :custom
     ((shell-pop-universal-key . "C-t")))
#+end_src

#+RESULTS:
: shell-pop

*** å‚è€ƒ
+ [[https://github.com/kyagi/shell-pop-el][kyagi/shell-pop-el: shell-pop.el helps you to use shell easily on Emacs. Only one key action to work.]]

* UIãƒ»è¦‹ãŸç›®ï¼ˆNon Xï¼‰
** modus-themes
- [[https://protesilaos.com/modus-themes/][Modus Themes (Modus Operandi and Modus Vivendi) | Protesilaos Stavrou]]

#+begin_src emacs-lisp
  (leaf modus-themes
    :ensure t                        ; omit this to use the built-in themes
    :init
    ;; Add all your customizations prior to loading the themes
    (setq modus-themes-italic-constructs t
          modus-themes-bold-constructs nil
          modus-themes-region '(bg-only no-extend))

    ;; Load the theme files before enabling a theme (else you get an error).
    (modus-themes-load-themes)
    :config
    ;; Load the theme of your choice:
    (modus-themes-load-operandi) ;; OR (modus-themes-load-vivendi)
    :bind ("<f5>" . modus-themes-toggle))
#+end_src

#+RESULTS:
: modus-themes

** whitespace - ç©ºç™½æ–‡å­—ã®å¯è¦–åŒ–                                    :NOLEAF:
- [[https://yanqirenshi.hatenablog.com/entry/2016/07/03/Emacs%3A_whitespace_%E3%81%A7%E4%BD%99%E5%88%86%E3%81%AA%E7%A9%BA%E7%99%BD/%E3%82%BF%E3%83%96%E3%81%AB%E8%89%B2%E3%81%A5%E3%81%91][Emacs: whitespace ã§ä½™åˆ†ãªç©ºç™½/ã‚¿ãƒ–ã«è‰²ã¥ã‘ - ã»ã‚“ã¨ã®ã“ã¨çŸ¥ã‚ŠãŸã„ã ã‘ãªã®ã«ã€‚]]
  - M-x list-faces-display ã§è¨­å®šã™ã‚‹è‰²ã®ç¨®é¡ã¨è‰²ã‚’ç¢ºèªã§ãã¾ã™ã€‚
  - è¨­å®šã™ã‚‹è‰²ã¯ M-x list-colors-display ã§ç¢ºèªã™ã‚‹æ„Ÿã˜ã€‚
- è‰²ã¯ãƒ†ãƒ¼ãƒã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã«ã—ã¦ãŠãã€‚

ã€€ã€€ã€€ã‚ã‚å…¨è§’ã€€ã€€ã€€ã€€ã€€â†å…¨è§’ã€€ã‚ã„ã†ãˆãŠ
ã‚ã„ã†ãˆãŠã€€æ¼¢å­—

#+begin_src emacs-lisp
  (progn
    (require 'whitespace)
    (setq whitespace-style
          '(
            face ; faceã§å¯è¦–åŒ–
            trailing ; è¡Œæœ«
            tabs ; ã‚¿ãƒ–
            spaces ; ã‚¹ãƒšãƒ¼ã‚¹
            space-mark ; è¡¨ç¤ºã®ãƒãƒƒãƒ”ãƒ³ã‚°
            tab-mark
            ))
    (setq whitespace-display-mappings
          '(
            (space-mark ?\u3000 [?â–¡])
            (tab-mark ?\t [?\u00BB ?\t] [?\\ ?\t])
            ))
    (setq whitespace-trailing-regexp  "\\([ \u00A0]+\\)$")
    (setq whitespace-space-regexp "\\(\u3000+\\)")
    ;; (set-face-attribute 'whitespace-trailing nil
    ;;                     :foreground nil
    ;;                     :background "DarkOrange1"
    ;;                     :underline nil)
    ;; (set-face-attribute 'whitespace-tab nil
    ;;                     :foreground "DarkOrange1"
    ;;                     :background nil
    ;;                     :underline nil)
    ;; (set-face-attribute 'whitespace-space nil
    ;;                     :foreground "DarkOrange1"
    ;;                     :background nil
    ;;                     :underline nil)
    (global-whitespace-mode t))
#+end_src

#+RESULTS:
: t

* UIãƒ»è¦‹ãŸç›®ï¼ˆXï¼‰
** ãƒ•ã‚©ãƒ³ãƒˆã®è¨­å®š                                                   :NOLEAF:
- Noto Sansã®ç­‰å¹…ãƒ•ã‚©ãƒ³ãƒˆã‚’è¨­å®šã™ã‚‹
- è¡¨ç¤ºã®ç¢ºèª

- [[https://uwabami.github.io/cc-env/Emacs.html][Emacs ã®è¨­å®š | Youhei SASAKIâ€™s official site]] ã‚ˆã‚Š

#+begin_example
| mmmm |
| llll |
| æ—¥æœ¬ |
| æ¼¢å­— |
| ã‚ã‚ |
| ã‚“ã‚“ |
| ï¿¥ï¿¥ |
| \\\\ |
| ã€€ã€€   |
|      |

|abcdefghijkl|
|ABCDEFGHIJKL|
|'";:-+=/\~`?|
|âˆâ‰¤â‰¥âˆâˆ‘âˆ«|
|Ã—Â±â‰’â‰¡âŠ†âŠ‡|  â† GUI ã ã¨ä¸€éƒ¨åŠè§’ã«ãªã‚‹
|Î±Î²Î³Î´ÎµÎ¶|  â† GUI ã ã¨åŠè§’ã«ãªã‚‹
|Î·Î¸Î¹ÎºÎ»Î¼|  â† GUI ã ã¨åŠè§’ã«ãªã‚‹
|Î‘Î’Î“Î”Î•Î–|  â† GUI ã ã¨åŠè§’ã«ãªã‚‹
|Î—Î˜Î™ÎšÎ›Îœ|  â† GUI ã ã¨åŠè§’ã«ãªã‚‹
|æ—¥æœ¬èªã®ç¾è¦³|
|ã‚ã„ã†ãˆãŠã‹|
|ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«|
|ï½±ï½²ï½³ï½´ï½µï½¶ï½·ï½¸ï½¹ï½ºï½»ï½¼|

| hoge                 | hogeghoe | age              |
|----------------------+----------+------------------|
| ä»Šæ—¥ã‚‚ã„ã„å¤©æ°—ã§ã™ã­ | ãŠã€     | ç­‰å¹…ã«ãªã£ãŸğŸ‘ ğŸº|
|----------------------+----------+------------------|
#+end_example

#+begin_src emacs-lisp
(set-frame-font "Noto Sans Mono CJK JP-12" nil t)
;; â†“æ¼¢å­—ãŒãƒœãƒ¼ãƒ«ãƒ‰ä½“ã«ãªã‚‰ãªã„
;; (set-frame-font "PlemolJP-12" nil t)
;; (set-frame-font "HackGen-12" nil t)
#+end_src

#+RESULTS:

#+begin_src emacs-lisp
(setq-default line-spacing 0) ; è¡Œé–“
#+end_src

#+RESULTS:
: 0

** ãƒ•ãƒ¬ãƒ¼ãƒ ã‚µã‚¤ã‚º                                                   :NOLEAF:
- [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Window-Frame-Parameters.html][https://www.gnu.org/software/emacs/manual/html_node/elisp/Window-Frame-Parameters.html]]
- [[https://www.grugrut.net/posts/my-emacs-init-el/][My Emacs Config - ãã‚‹ã£ã¨ãã‚Šã£ã©]]

#+begin_src emacs-lisp
  (setq default-frame-alist
        (append '((width                . 220)   ; ãƒ•ãƒ¬ãƒ¼ãƒ å¹…
                  (height               . 40 )   ; ãƒ•ãƒ¬ãƒ¼ãƒ é«˜
                  (left                 . 2000)  ; é…ç½®å·¦ä½ç½®ï¼ˆå·¦å³2ç”»é¢ã®å ´åˆï¼‰
                  (top                  . 50 )   ; é…ç½®ä¸Šä½ç½®
                  (line-spacing         . 0  )   ; æ–‡å­—é–“éš”
                  (left-fringe          . 12 )   ; å·¦ãƒ•ãƒªãƒ³ã‚¸å¹…
                  (right-fringe         . 12 )   ; å³ãƒ•ãƒªãƒ³ã‚¸å¹…
                  (menu-bar-lines       . 1 )    ; ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼
                  (tool-bar-lines       . 0 )    ; ãƒ„ãƒ¼ãƒ«ãƒãƒ¼
                  (cursor-type          . box)   ; ã‚«ãƒ¼ã‚½ãƒ«ç¨®åˆ¥
                  (alpha                . 100)   ; é€æ˜åº¦
                  )
                default-frame-alist))
  (setq initial-frame-alist default-frame-alist)

  (modify-frame-parameters nil '((sticky . t) (width . 100) (height . 40))) ; Xã‚’ä½¿ã†å ´åˆã®é«˜é€ŸåŒ–è¨­å®šã‚‰ã—ã„
#+end_src

#+RESULTS:

** all-the-icons
- [[https://github.com/domtronn/all-the-icons.el][GitHub - domtronn/all-the-icons.el: A utility package to collect various Icon Fonts and propertize them within Emacs.]]

- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å°å…¥å¾Œã€ M-x all-the-icons-install-fonts ã§OSã«ãƒ•ã‚©ãƒ³ãƒˆã‚’
  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

#+begin_src emacs-lisp
  (leaf all-the-icons :ensure t)
#+end_src

#+RESULTS:
: all-the-icons

** doom-modeline - ãƒ¢ãƒ¼ãƒ‰ãƒ©ã‚¤ãƒ³ã«ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º

  #+begin_src emacs-lisp
    (leaf doom-modeline
      :ensure t
      :custom
      ;; (doom-modeline-buffer-file-name-style . 'truncate-with-project)
      ;; (doom-modeline-icon . t)
      ;; (doom-modeline-major-mode-icon . nil)
      ;; (doom-modeline-minor-modes . nil)
      :init
      ;; (after-init . doom-modeline-mode)
      (doom-modeline-mode 1)
      :config
      ;; (line-number-mode 1)
      ;; (column-number-mode 0)
      ;;   (doom-modeline-def-modeline 'main
      ;; '(bar workspace-number window-number evil-state god-state ryo-modal xah-fly-keys matches buffer-info remote-host buffer-position parrot selection-info)
          ;; '(misc-info persp-name lsp github debug minor-modes input-method major-mode process vcs checker))
      )
  #+end_src

  #+RESULTS:
  : doom-modeline

* OSä¾å­˜ã®è¨­å®š
  - OSã®åˆ¤å®šæ–¹æ³•
    [[https://hangstuck.com/emacs-system-type/][Emacsã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’OSã®åˆ¤å®šã‚’ã—ã¦å…±æœ‰ã™ã‚‹æ–¹æ³•ï½œsystem-type | ãƒãƒ³ã‚°ã‚¹ã‚¿ãƒƒã‚¯]]

** Linuxã§mozcã®è¨­å®š
- å‚è€ƒ
  - [[https://w.atwiki.jp/ntemacs/pages/48.html][emacs-mozc ã‚’å‹•ã‹ã™ãŸã‚ã®è¨­å®šï¼ˆEmacs è¨­å®šç·¨ï¼‰ - NTEmacs @ ã‚¦ã‚£ã‚­ - atwikiï¼ˆã‚¢ãƒƒãƒˆã‚¦ã‚£ã‚­ï¼‰]]

#+begin_src emacs-lisp
  (leaf mozc-im
    :if (eq system-type 'gnu/linux)
    :doc "Mozc with input-method-function interface."
    :req "mozc-0"
    :tag "extentions" "i18n"
    :ensure t
    :require mozc-im
    :custom
    ((default-input-method . "japanese-mozc-im"))
    :bind (("C-o" . toggle-input-method))
    :config
    (require 'mozc-im)
    (require 'wdired)

    ;; Mozc ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã™ã‚‹
    (setq default-input-method "japanese-mozc-im")

    ;; ã‚«ãƒ¼ã‚½ãƒ«ã®ç‚¹æ»…ã‚’ OFF ã«ã™ã‚‹
    (blink-cursor-mode 0)

    ;; popup ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹
    ;; (leaf mozc-popup
    ;;   :ensure t
    ;;   :config
    ;;   (setq mozc-candidate-style 'popup))

    ;; ã‚«ãƒ¼ã‚½ãƒ«ã‚«ãƒ©ãƒ¼ã‚’è¨­å®šã™ã‚‹
    (leaf mozc-cursor-color
      :require t ; el-get ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ ensure ã§ã¯ãªã require
      :el-get iRi-E/mozc-el-extensions
      :config
      ;; ã‚«ãƒ¼ã‚½ãƒ«ã‚«ãƒ©ãƒ¼ã‚’è¨­å®šã™ã‚‹
      (setq mozc-cursor-color-alist '((direct        . "orchid")
                                      (read-only     . "yellow")
                                      (hiragana      . "green")
                                      (full-katakana . "goldenrod")
                                      (half-ascii    . "dark orchid")
                                      (full-ascii    . "orchid")
                                      (half-katakana . "dark goldenrod")))

      (defvar-local mozc-im-mode nil)
      (add-hook 'mozc-im-activate-hook
                (lambda nil
                  (setq mozc-im-mode t)))
      (add-hook 'mozc-im-deactivate-hook
                (lambda nil
                  (setq mozc-im-mode nil)))
      (advice-add 'mozc-cursor-color-update :around
                  (lambda (orig-fun &rest args)
                    (let ((mozc-mode mozc-im-mode))
                      (apply orig-fun args)))))

    (defun enable-input-method (&optional arg interactive)
      (interactive "P\np")
      (if (not current-input-method)
          (toggle-input-method arg interactive)))

    (defun disable-input-method (&optional arg interactive)
      (interactive "P\np")
      (if current-input-method
          (toggle-input-method arg interactive)))

    ;; isearch é–¢é€£
    (defun isearch-enable-input-method ()
      (interactive)
      (if (not current-input-method)
          (isearch-toggle-input-method)
        (cl-letf (((symbol-function 'toggle-input-method)
                   (symbol-function 'ignore)))
          (isearch-toggle-input-method))))

    (defun isearch-disable-input-method ()
      (interactive)
      (if current-input-method
          (isearch-toggle-input-method)
        (cl-letf (((symbol-function 'toggle-input-method)
                   (symbol-function 'ignore)))
          (isearch-toggle-input-method))))

    ;; IME ã‚’ãƒˆã‚°ãƒ«ã™ã‚‹ã‚­ãƒ¼è¨­å®š
    (global-set-key (kbd "C-o") 'toggle-input-method)
    (define-key isearch-mode-map (kbd "C-o") 'isearch-toggle-input-method)
    (define-key wdired-mode-map (kbd "C-o") 'toggle-input-method)

    ;; IME ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã‚­ãƒ¼è¨­å®š
    (global-set-key (kbd "C-<f1>") 'disable-input-method)
    (define-key isearch-mode-map (kbd "C-<f1>") 'isearch-disable-input-method)
    (define-key wdired-mode-map (kbd "C-<f1>") 'disable-input-method)

    (global-set-key (kbd "C-j") 'disable-input-method)
    (define-key isearch-mode-map (kbd "C-j") 'isearch-disable-input-method)
    (define-key wdired-mode-map (kbd "C-j") 'disable-input-method)

    ;; IME ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‚­ãƒ¼è¨­å®š
    (global-set-key (kbd "C-<f2>") 'enable-input-method)
    (define-key isearch-mode-map (kbd "C-<f2>") 'isearch-enable-input-method)
    (define-key wdired-mode-map (kbd "C-<f2>") 'enable-input-method)

    ;; (global-set-key (kbd "C-o") 'enable-input-method)
    ;; (define-key isearch-mode-map (kbd "C-o") 'isearch-enable-input-method)
    ;; (define-key wdired-mode-map (kbd "C-o") 'enable-input-method)

    ;; isearch ã‚’åˆ©ç”¨ã™ã‚‹å‰å¾Œã§ IME ã®çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã®å¯¾ç­–
    (add-hook 'isearch-mode-hook (lambda () (setq im-state mozc-im-mode)))
    (add-hook 'isearch-mode-end-hook
              (lambda ()
                (unless (eq im-state mozc-im-mode)
                  (if im-state
                      (activate-input-method default-input-method)
                    (deactivate-input-method)))))

    ;; wdired çµ‚äº†æ™‚ã« IME ã‚’ OFF ã«ã™ã‚‹
    (advice-add 'wdired-finish-edit
                :after (lambda (&rest args)
                         (deactivate-input-method))))
#+end_src

#+RESULTS:
: mozc-im

** Windowsã§æ–‡å­—ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’UTF-8ã«
#+begin_src emacs-lisp
  (leaf windows
    :when (eq system-type 'windows-nt)
    :config
    (prefer-coding-system 'utf-8))
#+end_src

#+RESULTS:
: windows

** Windows IMEè¨­å®š
- [[https://nosubject.io/windows10-emacs-27-w32-ime/][[Emacs] Windows10 ã§ Emacs 27 ã‚’ä½¿ã† | ** nosubject.io **]]
- [[https://qiita.com/tawara_/items/0a7b8c50a48ea86b2d91][ã‚ã® IBM ãŒä½œã£ãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã„ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ•ã‚©ãƒ³ãƒˆã€PlemolJPã€ã‚’ä½œã£ã¦ã¿ãŸ - Qiita]]

  #+begin_src emacs-lisp
    (leaf tr-ime
      :when (eq system-type 'windows-nt)
      :ensure t
      :setq
      (default-input-method . "W32-IME")
      (w32-ime-mode-line-state-indicator-list . '("[--]" "[ã‚]" "[--]"))
      :setq-default
      (w32-ime-mode-line-state-indicator . "[--]")
      :config
      (tr-ime-standard-install)
      (w32-ime-initialize)
      ;; IMEåˆ¶å¾¡ï¼ˆyes/noãªã©ã®å…¥åŠ›æ™‚ã«IMEã‚’offã«ã™ã‚‹
      (wrap-function-to-control-ime 'universal-argument t nil)
      (wrap-function-to-control-ime 'read-string nil nil)
      (wrap-function-to-control-ime 'read-char nil nil)
      (wrap-function-to-control-ime 'read-from-minibuffer nil nil)
      (wrap-function-to-control-ime 'y-or-n-p nil nil)
      (wrap-function-to-control-ime 'yes-or-no-p nil nil)
      (wrap-function-to-control-ime 'map-y-or-n-p nil nil)
      ;; é€šå¸¸ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆ
      ;; (set-frame-font "BIZ UDã‚´ã‚·ãƒƒã‚¯-12" nil t)
      (set-frame-font "PlemolJP-12" nil t)
      (setq-default line-spacing 0) ; è¡Œé–“
      ;; IMEæœªç¢ºå®šæ™‚ã®ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
      (modify-all-frames-parameters '((ime-font . "PlemolJP-12")))
      :bind
      ("C-o" . toggle-input-method))
  #+end_src

  #+RESULTS:
  : tr-ime

  #+begin_src emacs-lisp
    (when (eq system-type 'windows-nt)
      (package-install 'tr-ime)
      (tr-ime-standard-install)
      (setq default-input-method "W32-IME")
      (w32-ime-initialize))
  #+end_src

** WSLã§Windowså´ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ç«‹ã¡ä¸Šã’ã‚‹

- WSLå´ã‹ã‚‰Windowsã‚’åˆ¶å¾¡ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ãƒªãƒ†ã‚£
  - [[https://github.com/wslutilities/wslu][wslutilities/wslu: A collection of utilities for Windows 10 Linux Subsystems]]
  - wslviewã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹

- EmacsãŒä½¿ã†ãƒ–ãƒ©ã‚¦ã‚¶ã‚’è¨­å®šã™ã‚‹
  - [[https://www.emacswiki.org/emacs/BrowseUrl#h5o-4][[Home] Browse Url]]

- WSLã‹ã©ã†ã‹åˆ¤æ–­
  - [[https://qiita.com/miy4/items/acf50a9c0a053b878b56#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%82%92%E6%8E%A2%E3%81%99][Emacsã§WSLã‚’ä½¿ã£ã¦ã„ã‚‹/ã„ãªã„ã‚’åˆ¤æ–­ã™ã‚‹ - Qiita]]

#+begin_src emacs-lisp
  (when (and (eq system-type 'gnu/linux)
             (getenv "WSLENV"))
    (setq browse-url-browser-function 'my/browser)
    (setq browse-url-generic-program "web-browser"))

  (defun my/browser (url &rest ignore)
    "Browse URL using wslview."
    (interactive "sURL: ")
    (shell-command (concat "wslview " url)))
#+end_src

#+RESULTS:
: my/browser

* æœªæ•´ç†
** TODO EAF - Emacs Application Framework
+ .emacs.dã‚’gitã§ç®¡ç†ã—ã¦ã„ã‚‹ã®ã§submoduleã§è¿½åŠ 
+ install-eaf.py ã‚’å®Ÿè¡Œã™ã‚‹å‰ã« apt update && apt upgrade

#+begin_src emacs-lisp :tangle no
  (leaf eaf
    :load-path "~/.emacs.d/site-lisp/emacs-application-framework" ; Set to "/usr/share/emacs/site-lisp/eaf" if installed from AUR
    :require t
    :custom ; See https://github.com/emacs-eaf/emacs-application-framework/wiki/Customization
    (eaf-browser-continue-where-left-off . t)
    (eaf-browser-enable-adblocker . t)
    (browse-url-browser-function . 'eaf-open-browser)
    :config
    (require 'eaf-browser)
    (require 'eaf-pdf-viewer)

    (defalias 'browse-web #'eaf-open-browser)
    (eaf-bind-key scroll_up "C-n" eaf-pdf-viewer-keybinding)
    (eaf-bind-key scroll_down "C-p" eaf-pdf-viewer-keybinding)
    ;; (eaf-bind-key take_photo "p" eaf-camera-keybinding)
    (eaf-bind-key nil "M-q" eaf-browser-keybinding)) ;; unbind, see more in the Wiki
#+end_src

#+RESULTS:
: eaf
** visual-fill-column - visual-line-modeã§fill-columnã‚’æœ‰åŠ¹ã«ã™ã‚‹  :package:
+ èª¬æ˜
  * é•·ã„ä¸€æ–‡ã‚’æ›¸ãã¨ãã€æŒ‡å®šä½ç½®ã§æŠ˜ã‚Šè¿”ã—ã¦ãã‚Œã‚‹ã€‚
  * mu4eã§ãƒ¡ãƒ¼ãƒ«ã‚’æ›¸ãã¨ãã«åˆ©ç”¨ã™ã‚‹ã€‚

+ å‚è€ƒ
  * [[https://github.com/joostkremers/visual-fill-column][joostkremers/visual-fill-column: Emacs mode for wrapping visual-line-mode buffers at fill-column.]]

+ è¨­å®š

  #+begin_src emacs-lisp
    (leaf visual-fill-column
      :package t
      :hook ((visual-line-mode-hook . visual-fill-column-mode))
      )
  #+end_src

  #+RESULTS:
  : visual-fill-column

** shr/eww - Simple HTML Reader
+ èª¬æ˜
  * Emacsã®Webãƒ–ãƒ©ã‚¦ã‚¶ã«é–¢ã™ã‚‹è¨­å®š
  * ewwã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨èª­ã¿ã«ãã„ãƒ—ãƒ­ãƒãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆã«ãªã‚‹
  * mu4eã§ã¯ãƒ¡ãƒ¼ãƒ«ã‚’èª­ã‚€éš›ã«shrã‚’ä½¿ã†
+ æ–‡çŒ®
  * [[https://www.emacswiki.org/emacs/eww][[Home] eww]]
+ è¨­å®š
  * ewwã‚’æ¨™æº–ã«ã™ã‚‹ã«ã¯browse-url-browser-functionã‚’è¨­å®šã™ã‚‹
  * shr-use-fontsã‚’nilã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€å›ºå®šå¹…ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã†ã‚ˆã†ã«ãªã‚‹

#+begin_src emacs-lisp
  (leaf eww
    :custom
    (
     ;; (browse-url-browser-function . 'eww-browse-url)
     (shr-use-colors    . nil)
     (shr-use-fonts     . nil)
     (shr-image-animate . nil)
     (shr-width         . 72)
     (eww-search-prefix . "https://www.google.com/search?q=")
     )
    )
#+end_src

#+RESULTS:
: eww

** mu4e
*** smtpmail - ãƒ¡ãƒ¼ãƒ«ã®é€ä¿¡
**** èª¬æ˜
+ æœ€åˆã®ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡æ™‚ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€~/.authinfo ã«è‡ªå‹•ã§è¿½åŠ 

;; sending mail -- replace USERNAME with your gmail username
;; also, make sure the gnutls command line utils are installed
;; package 'gnutls-bin' in Debian/Ubuntu

#+begin_src emacs-lisp
  (leaf smtpmail
    :require t
    :setq ((message-send-mail-function quote smtpmail-send-it)
           (starttls-use-gnutls . t)
           (smtpmail-starttls-credentials '(("smtp.gmail.com" 587 nil nil)))
           (smtpmail-auth-credentials '(("smtp.gmail.com" 587 "yc@aiit.ac.jp" nil)))
           (smtpmail-default-smtp-server . "smtp.gmail.com")
           (smtpmail-smtp-server . "smtp.gmail.com")
           (smtpmail-smtp-service . 587)))
#+end_src

#+RESULTS:
: smtpmail

*** mu/mu4e - Maildirã®èª­ã¿æ›¸ããƒ»IMAPã‚µãƒ¼ãƒã¨ã®åŒæœŸ
+ æ¦‚è¦
  * [[https://www.emacswiki.org/emacs/mu4e][[Home] mu4e]]
  * [[https://github.com/djcb/mu/tree/master/mu4e][mu/mu4e at master Â· djcb/mu]]
  * mu4eã¯muã«åŒæ¢±ã•ã‚Œã¦ã„ã‚‹
    - aptã§å…¥ã‚‹ã‚‚ã®ã¯å¤ã„
  * [[https://www.djcbsoftware.nl/code/mu/mu4e/Installation.html#Installation][Installation (Mu4e 1.6.0 user manual)]]
    - aptã§å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¥ã‚Œã‚‹
  * [[https://github.com/djcb/mu/releases][Releases Â· djcb/mu]]
    - 1.6.9ã®tar ballã‚’ã¨ã£ã¦ãã‚‹
    - sudo apt install autoconf automake libtool texinfo
  * /usr/local/share/emacs/site-lisp/mu4e/
  * [[https://cheatography.com/ddoherty03/cheat-sheets/mu4e-with-gmail-hints/][mu4e (With GMail Hints) Keyboard Shortcuts by ddoherty03 - Download free from Cheatography - Cheatography.com: Cheat Sheets For Every Occasion]]
    - cheetsheet
  * [[https://www.djcbsoftware.nl/code/mu/mu4e/Gmail-configuration.html][Gmail configuration (Mu4e 1.6.0 user manual)]]
    - å‰åŠã¯offlineimapç”¨
  * htmlãƒ¡ãƒ¼ãƒ«ã¯ewwã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã 
    * ãƒ•ã‚©ãƒ³ãƒˆã¯Microsoft Yahei
      - [[https://qiita.com/styzo/items/28d5d994a293fa704476][emacs 26 ã®ãƒ•ã‚©ãƒ³ãƒˆã®è¨­å®š M-x view-hello-file - Qiita]]
    * ewwã®æ­£ä½“ã¯shr
+ mbsyncã«ã¤ã„ã¦
  * å‚è€ƒæ–‡çŒ®
    - [[https://isync.sourceforge.io/][isync: free IMAP and MailDir mailbox synchronizer]]
    - [[https://sourceforge.net/projects/isync/][Isync download | SourceForge.net]]
    - [[https://sourceforge.net/p/isync/isync/ci/master/tree/][Isync / isync / [da6567]]]
  * Gmailã®è¨­å®š
    - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒšãƒ¼ã‚¸ã§æœ‰åŠ¹ã«ã™ã‚‹
  * ãƒ¡ãƒ¼ãƒ«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®š
    - ~/.mailpass.gpg
  * mbsyncã®è¨­å®š
    - æ—¥æœ¬èªãƒ•ã‚©ãƒ«ãƒ€åãŒä¿®æ­£utf-7ã«ãªã‚‹
    - utf-7ã‚’å¤‰æ›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚“ã¾ã‚Šãªã„
      * [[https://kkobayashi-a.hatenablog.com/entry/2019/04/11/111856][imapsyncã§ãƒ¢ãƒãƒ¡ã‚’Gmailã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ ãã®2 - kkobayashi_aâ€™s blog]]
    - [[https://arimasou16.com/blog/2021/09/01/00413/][OfflineIMAPã¨NeoMuttã‚’åˆã‚ã›ã¦ä½¿ã† å¾ŒåŠ(æˆåŠŸä¾‹)]]
    - ã¤ãã£ãŸï¼ˆrubyï¼‰

    #+begin_example
    require 'net/imap'

    puts Net::IMAP.decode_utf7 '&MFkweTBmMG4w4TD8MOs-'
    puts Net::IMAP.decode_utf7 '&MLkwvzD8TtgwTQ-'
    puts Net::IMAP.decode_utf7 '&j,dg0TDhMPww6w-'
    puts Net::IMAP.decode_utf7 '&kc2JgQ-'
    puts Net::IMAP.decode_utf7 '&MLQw33ux-'
    puts Net::IMAP.decode_utf7 '&Tgtm+DBN-'
    puts Net::IMAP.decode_utf7 '&kAFP4W4IMH8w4TD8MOs-'
    #+end_example

    | ä¿®æ­£UTF-7               | å¤‰æ›çµæœ       |           |
    |-------------------------+----------------+-----------|
    | '&MFkweTBmMG4w4TD8MOs-' | ã™ã¹ã¦ã®ãƒ¡ãƒ¼ãƒ« | All Mail  |
    | '&MLkwvzD8TtgwTQ-'      | ã‚¹ã‚¿ãƒ¼ä»˜ã     | Starred   |
    | '&j,dg0TDhMPww6w-'      | è¿·æƒ‘ãƒ¡ãƒ¼ãƒ«     | Spam      |
    | '&kc2JgQ-'              | é‡è¦           | Important |
    | '&MLQw33ux-'            | ã‚´ãƒŸç®±         | Trash     |
    | '&Tgtm+DBN-'            | ä¸‹æ›¸ã         | Draft     |
    | '&kAFP4W4IMH8w4TD8MOs-' | é€ä¿¡æ¸ˆã¿ãƒ¡ãƒ¼ãƒ« | Sent Mail |
  * Nearå´ã®ãƒ•ã‚©ãƒ«ãƒ€ãŒä½œã‚‰ã‚Œãªã„
    - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„ã‹ã‚‰ï¼Ÿ
    - UIDVALIDITYãŒéµã®ã‚ˆã†ã 
      - ~/.mbsyncã«å¯¾å¿œè¡¨ãŒã‚ã‚‹ã®ã§ã€ã‚„ã‚ŠãªãŠã™ã¨ãã¯å‰Šé™¤ã™ã‚‹

        #+begin_example
          rm -r ~/Maildir
          mkdir -p Maildir/ploversky.net@gmail.com
          rm -r ~/.mbsync
          mbsync private
        #+end_example
+ mbsyncã®è¨­å®š
  * è¨­å®š
    1. ãƒ¡ã‚¤ãƒ³ç”»é¢ã§'U'ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨mbsyncã§æ›´æ–°ã™ã‚‹ã‚ˆã†è¨­å®š
    2. ãƒ¡ãƒ¼ãƒ«ã‚’ç§»å‹•ã™ã‚‹éš›ã€ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å¤‰æ›´ï¼ˆmbsyncã§ã¯ã“ã‚Œã‚’è¨­å®šã™ã‚‹ã®ãŒæœ›ã¾ã—ã„ï¼‰
       è¨­å®šã—ãªã„ã¨ã€UIDãŒæ›¸ãæ›ã‚ã‚‰ãªã„ã®ã§é‡è¤‡ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

    #+NAME: mbsync-settings
    #+begin_src emacs-lisp :tangle no
      (setq mu4e-get-mail-command "mbsync -a")
      (setq mu4e-change-filenames-when-moving t)

    #+end_src

    #+RESULTS: mbsync-settings
    : t

+ ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ãƒ¢ãƒ¼ãƒ‰ã§ã®æ–‡å­—ã®æŠ˜è¿”ã—
  * å‚è€ƒ
    - [[https://emacs.stackexchange.com/questions/3061/how-to-stop-mu4e-from-inserting-line-breaks][(add-hook 'mu4e-compose-mode-hook 'visual-line-mode)]]

  * è¨­å®š
    1. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯auto-fillãŒonã§ã‚ã‚‹ãŸã‚ã€é•·ã„è¡Œã«ã¯è‡ªå‹•çš„ã«æ”¹è¡ŒãŒè¿½åŠ ã•ã‚Œã‚‹ï¼ˆå¤ãè‰¯ãæ™‚ä»£ã®æ¨™æº–ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ã®ã§ã“ã‚Œã‚’offã«ã™ã‚‹ã€‚
    2. å˜èªã®é€”ä¸­ã§æŠ˜è¿”ã•ãªã„ã‚ˆã†ã«visual-line-modeã‚’onã«ã™ã‚‹ã€‚

    #+NAME: mu4e-compose-mode-hook
    #+begin_src emacs-lisp :tangle no
      (add-hook 'mu4e-compose-mode-hook 'turn-off-auto-fill)
      (add-hook 'mu4e-compose-mode-hook 'visual-line-mode)

    #+end_src

    #+RESULTS: mu4e-compose-mode-hook
    | visual-line-mode | turn-off-auto-fill |

+ mu4e-dashboard
  * å‚è€ƒ
    - [[https://www.reddit.com/r/emacs/comments/mzgsm0/mu4e_look_and_feel/][Mu4e look and feel : emacs]]
    - [[https://github.com/rougier/mu4e-dashboard][rougier/mu4e-dashboard: A dashboard for mu4e (mu for emacs)]]
  * èª¬æ˜
    - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®orgãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ãªã®ã§ã€forkã—ã¦ã¿ã‚‹
    - ã‚µãƒ³ãƒ—ãƒ«ã«å¾“ã„ã€orgãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚Œã°ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãªã‚‹

    #+NAME: mu4e-dashboard
    #+begin_src emacs-lisp :tangle no
      ;; (leaf mu4e-dashboard
      ;;   :el-get ychubachi/mu4e-dashboard
      ;;   :require t

    #+end_src

    #+RESULTS: mu4e-dashboard

+ å…¨ä½“ã®è¨­å®š

#+begin_src emacs-lisp :noweb yes
  (leaf mu4e
    :load-path "/usr/local/share/emacs/site-lisp/mu4e/"
    :require t
    :config
    ;; use mu4e for e-mail in emacs
    (setq mail-user-agent 'mu4e-user-agent)

    (setq mu4e-headers-fields
          '((:empty . 0) (:human-date . 8) (:flags . 6) (:mailing-list . 10)(:from . 22) (:subject)))

    (setq mu4e-drafts-folder "/Gmail/draft")
    (setq mu4e-sent-folder   "/Gmail/sent")
    (setq mu4e-trash-folder  "/Gmail/trash")
    (setq mu4e-refile-folder "/Gmail/archive")

    (setq mu4e-bookmarks
          '((:name "Unread INBOX"     :query "maildir:/Gmail/inbox/ flag:unread AND NOT flag:trashed"  :key ?i)
            (:name "Unread Archive"   :query "maildir:/Gmail/archive/ flag:unread AND NOT flag:trashed"  :key ?a)
            (:name "Unread messages"  :query "flag:unread AND NOT flag:trashed"  :key 117)
            (:name "Starred messages" :query "flag:flagged AND NOT flag:trashed" :key ?S)
            (:name "Draft Masseges"   :query "flag:draft AND NOT flag:trashed"   :key ?D)
            (:name "Trash"            :query "flag:trashed"                      :key ?T)
            (:name "Today's messages" :query "date:today..now"                 :key 116)
            (:name "Last 7 days" :query "date:7d..now" :hide-unread t          :key 119)
            (:name "Messages with images" :query "mime:image/*" :hide-unread t :key 112)
            ))

    ;; setup some handy shortcuts
    ;; you can quickly switch to your Inbox -- press ``ji''
    ;; then, when you want archive some messages, move them to
    ;; the 'All Mail' folder by pressing ``ma''.
    (setq mu4e-maildir-shortcuts
          '((:maildir "/Gmail/inbox"             :key ?i)
            (:maildir "/Gmail/archive"           :key ?a)
            (:maildir "/Gmail/draft"             :key ?d)))

    ;; don't save message to Sent Messages, Gmail/IMAP takes care of this
    (setq mu4e-sent-messages-behavior 'delete)

    ;; (See the documentation for `mu4e-sent-messages-behavior' if you have
    ;; additional non-Gmail addresses and want assign them different
    ;; behavior.)

    ;; something about ourselves
    (setq
     user-mail-address "yc@aiit.ac.jp"
     user-full-name  "ä¸­é‰¢æ¬£ç§€"
     mu4e-compose-signature
     (concat
      "æ±äº¬éƒ½ç«‹ç”£æ¥­æŠ€è¡“å¤§å­¦é™¢å¤§å­¦ï¼ˆAIITï¼‰ ç ”ç©¶ç§‘é•·è£œä½\n"
      "æƒ…å ±ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚³ãƒ¼ã‚¹æ‹…å½“ æ•™æˆ ä¸­é‰¢æ¬£ç§€ åšå£«ï¼ˆæ”¿ç­–ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢ï¼‰\n"))

    (setq mu4e-headers-results-limit -1)

    <<mbsync-settings>>
    <<mu4e-compose-mode-hook>>
    <<mu4e-dashboard>>

    (leaf mu4e-thread-folding
      :el-get rougier/mu4e-thread-folding
      :require t
      :config
      (add-to-list 'mu4e-header-info-custom
                   '(:empty :name "Empty" :shortname "" :function
                            (lambda (msg)
                              "  ")))

      (define-key mu4e-headers-mode-map (kbd "<tab>")     'mu4e-headers-toggle-at-point)
      (define-key mu4e-headers-mode-map (kbd "<left>")    'mu4e-headers-fold-at-point)
      (define-key mu4e-headers-mode-map (kbd "<S-left>")  'mu4e-headers-fold-all)
      (define-key mu4e-headers-mode-map (kbd "<right>")   'mu4e-headers-unfold-at-point)
      (define-key mu4e-headers-mode-map (kbd "<S-right>") 'mu4e-headers-unfold-all)

      (add-hook 'mu4e-headers-found-hook #'mu4e-thread-folding-mode)
      )
    )
#+end_src

#+RESULTS:
: mu4e

** TODO project.el
+ èª¬æ˜
  * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†

+ è¨­å®š

  #+begin_src emacs-lisp :tangle no
    (leaf project :package t :require t)
  #+end_src

  #+RESULTS:
  : project

* ãŠã‚ã‚Šã«
** ãŠç´„æŸã®è¨˜è¿°

#+begin_src emacs-lisp
(provide 'README)

;; Local Variables:
;; indent-tabs-mode: nil
;; byte-compile-warnings: (not cl-functions obsolete)
;; End:

;;; README.el ends here
#+end_src

** å‚è€ƒæ–‡çŒ®
1. [[https://uwabami.github.io/cc-env/Emacs.html][Emacs ã®è¨­å®š | Youhei SASAKIâ€™s official site]]

;; Local Variables:
;; eval: (visual-line-mode)
;; End:
